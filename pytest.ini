[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers for selective test running
markers =
    db: Database layer tests (storage/db.py)
    api: API endpoint tests (Flask routes)
    security: Security hardening tests (CSRF, host validation, rate limiting)
    async_jobs: Async job system tests
    projects: Project management features
    companies: Company CRUD, bulk actions, enrichment
    taxonomy: Taxonomy tree, categories, review, quality
    canvas: Canvas workspace and AI diagram generation
    data: Export, import, stats, charts, tags, views
    processing: Batch processing pipeline, triage, jobs
    research: Research sessions, templates, reports
    ai: AI discovery, chat, find-similar, models
    discovery: Feature landscape, gap analysis, contexts
    dimensions: Custom dimensions CRUD, values, AI populate
    settings: App settings, share tokens, backups, logs, notifications
    static: Static file serving tests
    slow: Tests that take >5 seconds (e.g. async polling)

# Short test summary info
addopts = -v --tb=short --strict-markers
